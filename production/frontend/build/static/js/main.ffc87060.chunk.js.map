{"version":3,"sources":["components/Header.js","components/Footer.js","components/FilmList.js","components/FilmDetail.js","components/UserList.js","components/ScheduleList.js","components/Main.js","components/LoginForm.js","components/RegisterForm.js","App.js","reportWebVitals.js","index.js"],"names":["Header","loginLink","loginTitle","loginHandler","isAuthenticated","logout","className","to","onClick","Footer","Film","film","id","title","description","FilmList","films","map","FilmDetail","users","useParams","filter","item","audience","includes","username","User","user","date_birth","UserList","Schedule","schedule","date_time","ScheduleList","schedules","Main","LoginForm","props","state","password","event","this","setState","target","name","value","preventDefault","login","method","onSubmit","handleSubmit","type","placeholder","onChange","handleChange","React","Component","RegisterForm","password1","password2","email","register","getResourceURL","suffix","App","accessToken","getAccessToken","loadState","headers","getHeaders","axios","get","then","result","data","catch","error","console","log","post","refreshToken","refresh","access","saveTokens","localStorage","setItem","clearState","getItem","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ffc87060.chunk.js","sourcesContent":["import {NavLink as Link} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nfunction Header({isAuthenticated, logout}) {\r\n    let loginLink, loginTitle, loginHandler;\r\n    loginLink = \"/login\";\r\n    loginTitle = \"login\";\r\n    if (isAuthenticated) {\r\n        loginLink = \"/logout\";\r\n        loginTitle = \"logout\";\r\n        loginHandler = logout;\r\n    }\r\n    return (\r\n        <header className=\"d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom\">\r\n            <Link to={\"/\"} className=\"d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none\">\r\n                Film\r\n            </Link>\r\n            <ul className=\"nav nav-pills\">\r\n                <li className=\"nav-item\"><Link to={\"/users\"} className=\"nav-link\">User</Link></li>\r\n                <li className=\"nav-item\"><Link to={\"/films\"} className=\"nav-link\">Film</Link></li>\r\n                <li className=\"nav-item\"><Link to={\"/schedules\"} className=\"nav-link\">Schedule</Link></li>\r\n                <li className=\"nav-item\">\r\n                    <Link to={loginLink} className=\"nav-link\" onClick={loginHandler}>\r\n                        {loginTitle}\r\n                    </Link>\r\n\r\n                </li>\r\n            </ul>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","const Footer = () => {\r\n    return (\r\n        <footer>\r\n            &copy; Cinema, 2021\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;\r\n","import {NavLink as Link} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst Film = ({film}) => {\r\n    // console.log('film', film);\r\n    return (\r\n        <tr className=\"film-row\">\r\n            <td>\r\n                {film.id}\r\n            </td>\r\n            <td>\r\n                <Link to={`/films/detail/${film.id}`} className=\"nav-link\">\r\n                    {film.title}\r\n                </Link>\r\n            </td>\r\n            <td>\r\n                {film.description}\r\n            </td>\r\n            <td>\r\n                <Link to={`/films/delete/${film.id}`} className=\"nav-link\">\r\n                    delete\r\n                </Link>\r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nconst FilmList = ({films}) => {\r\n    // console.log('films', films);\r\n    return (\r\n        <div className={\"film-list\"}>\r\n            <h1>Films</h1>\r\n            <table className={\"film-list\"}>\r\n                <thead>\r\n                <tr>\r\n                    <th>id</th>\r\n                    <th>title</th>\r\n                    <th>description</th>\r\n                    <th>actions</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {films.map((film) => <Film key={film.id} film={film}/>)}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport  default FilmList;\r\n","import React from \"react\";\r\nimport {useParams} from \"react-router\";\r\n\r\nconst FilmDetail = ({films,users}) => {\r\n    let {id} = useParams();\r\n    let film = films.filter((item) => item.id === +id)[0];\r\n    let audience = users.filter((item) => film.audience.includes(item.id));\r\n\r\n    return (\r\n        <div className={\"film-detail\"}>\r\n            <h3>Film: {film.title}</h3>\r\n            <p>{film.description}</p>\r\n            <p>Audience:</p>\r\n            <ul>\r\n                {audience.map((item) => (\r\n                    <li key={item.id}>{item.username}</li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default FilmDetail;\r\n","const User = ({user}) => {\r\n    // console.log('user', user);\r\n    return (\r\n        <tr className=\"user-row\">\r\n            <td>\r\n                {user.id}\r\n            </td>\r\n            <td>\r\n                {user.username}\r\n            </td>\r\n            <td>\r\n                {user.date_birth}\r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nconst UserList = ({users}) => {\r\n    // console.log('users', users);\r\n    return (\r\n        <div className={\"user-list\"}>\r\n        <h1>Users</h1>\r\n            <table className={\"user-list\"}>\r\n                <thead>\r\n                <tr>\r\n                    <th>id</th>\r\n                    <th>username</th>\r\n                    <th>date birth</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {users.map((user) => <User key={user.id} user={user}/>)}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport  default UserList;\r\n","const Schedule = ({schedule}) => {\r\n    return (\r\n        <tr className=\"schedule-row\">\r\n            <td>\r\n                {schedule.id}\r\n            </td>\r\n            <td>\r\n                {schedule.date_time}\r\n            </td>\r\n            <td>\r\n                {schedule.film}\r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nconst ScheduleList = ({schedules}) => {\r\n    return (\r\n        <div className={\"schedule-list\"}>\r\n            <h1>Schedules</h1>\r\n            <table className={\"schedule-list\"}>\r\n                <thead>\r\n                <tr>\r\n                    <th>id</th>\r\n                    <th>date_time</th>\r\n                    <th>film</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {schedules.map((schedule) => <Schedule key={schedule.id} schedule={schedule}/>)}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport  default ScheduleList;\r\n","const Main = () => {\r\n    return (\r\n        <h1>\r\n            Hello SPA\r\n        </h1>\r\n    )\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\n\r\nclass LoginForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\"\r\n        };\r\n    }\r\n\r\n    handleChange(event) {\r\n        // console.log('change:', event.target.name, event.target.value);\r\n        this.setState(\r\n            {[event.target.name]: event.target.value}\r\n        )\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        // console.log('submit:', event.target);\r\n        this.props.login(this.state.username, this.state.password);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"login-form\">\r\n                 <form method=\"post\"\r\n                      onSubmit={(event) => this.handleSubmit(event)}>\r\n                    <input type=\"text\"\r\n                           name=\"username\"\r\n                           placeholder=\"username\"\r\n                           onChange={(event) => this.handleChange(event)}/>\r\n                    <input type=\"password\"\r\n                           name=\"password\"\r\n                           placeholder=\"password\"\r\n                           onChange={(event) => this.handleChange(event)}/>\r\n                    <input type=\"submit\"\r\n                           value=\"login\"/>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default LoginForm\r\n","import React from \"react\";\r\n\r\n\r\nclass RegisterForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password1: \"\",\r\n            password2: \"\",\r\n            email: \"\",\r\n        };\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState(\r\n            {[event.target.name]: event.target.value}\r\n        )\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.props.register(\r\n            this.state.username,\r\n            this.state.password1,\r\n            this.state.password2,\r\n            this.state.email\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"login-form\">\r\n                <form method=\"post\"\r\n                      onSubmit={(event) => this.handleSubmit(event)}>\r\n                    <input type=\"text\"\r\n                           name=\"username\"\r\n                           placeholder=\"username\"\r\n                           onChange={(event) => this.handleChange(event)}/>\r\n                    <input type=\"password\"\r\n                           name=\"password\"\r\n                           placeholder=\"password\"\r\n                           onChange={(event) => this.handleChange(event)}/>\r\n                    <input type=\"submit\"\r\n                           value=\"login\"/>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default RegisterForm","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from \"react\";\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport FilmList from \"./components/FilmList\";\nimport FilmDetail from \"./components/FilmDetail\";\nimport UserList from \"./components/UserList\";\nimport ScheduleList from \"./components/ScheduleList\";\nimport Main from \"./components/Main\";\nimport axios from \"axios\";\nimport LoginForm from \"./components/LoginForm\";\nimport RegisterForm from \"./components/RegisterForm\";\n\n\nconst API_URL = \"http://127.0.0.1:8000\";\nconst getResourceURL = (suffix) => `${API_URL}/api/${suffix}/`;\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            users: [],\n            films: [],\n            schedules: [],\n            accessToken: this.getAccessToken(),\n        };\n     }\n\n       componentDidMount() {\n        this.loadState()\n    }\n\n    loadState() {\n        let headers = this.getHeaders();\n\n      axios\n            .get(getResourceURL(\"users\"), {headers: headers})\n            .then((result) => {\n                // console.log('users result:', result)\n                this.setState({\n                    users: result.data\n                })\n            })\n            .catch((error) => console.log(error));\n        axios\n            .get(getResourceURL(\"films\"), {headers: headers})\n            .then((result) => {\n                this.setState({\n                    films: result.data\n                })\n            })\n            .catch((error) => console.log(error));\n        axios\n            .get(getResourceURL(\"schedule\"), {headers: headers})\n            .then((result) => {\n                this.setState({\n                    schedules: result.data\n                })\n            })\n            .catch((error) => console.log(error));\n\n    }\n    login(username, password) {\n        // console.log('do login', username, password);\n        axios\n            .post(getResourceURL(\"token\"),\n                {\"username\": username, \"password\": password})\n            .then((result) => {\n                let refreshToken = result.data.refresh;\n                let accessToken = result.data.access;\n                // console.log('login result:', refreshToken, accessToken)\n\n                this.saveTokens(refreshToken, accessToken)\n                this.setState({accessToken: accessToken}, this.loadState)\n            })\n            .catch((error) => console.log(error));\n    }\n\n        register(username, password1, password2, email) {\n        console.log('do register', username, password1, password2, email);\n        // axios\n        //     .post(getResourceURL(\"token\"),\n        //         {\"username\": username, \"password\": password})\n        //     .then((result) => {\n        //         let refreshToken = result.data.refresh;\n        //         let accessToken = result.data.access;\n        //         console.log(accessToken)\n        //\n        //         this.saveTokens(refreshToken, accessToken)\n        //         this.setState({accessToken: accessToken}, this.loadState)\n        //     })\n        //     .catch((error) => console.log(error));\n    }\n\n    logout() {\n        // console.log('do logout');\n        localStorage.setItem('refreshToken', null);\n        localStorage.setItem('accessToken', null);\n        this.clearState();\n    }\n\n    clearState() {\n        this.setState({\n            accessToken: null,\n            users: [],\n            films: [],\n            schedules: [],\n        })\n    }\n\n    saveTokens(refreshToken, accessToken) {\n        localStorage.setItem('refreshToken', refreshToken);\n        localStorage.setItem('accessToken', accessToken);\n        // console.log('accessToken:', localStorage.getItem('accessToken'))\n    }\n\n    getAccessToken() {\n        return localStorage.getItem('accessToken')\n    }\n\n    isAuthenticated() {\n        return this.state.accessToken !== 'null' && this.state.accessToken !== null;\n    }\n\n    getHeaders() {\n        let headers = {\n            'Content-Type': \"application/json\"\n        }\n        if (this.isAuthenticated()) {\n            headers['Authorization'] = `Bearer ${this.state.accessToken}`\n        }\n\n        return headers;\n    }\n\n\n  render() {\n    // console.log('state', this.state);\n    return(\n        <div className=\"main\">\n                <Router>\n                    <Header isAuthenticated={this.isAuthenticated()}\n                            logout={() => this.logout()}/>\n               <Route exact path=\"/\">\n                        <Main />\n               </Route>\n              <Route exact path=\"/users\">\n                  <UserList users={this.state.users}/>\n              </Route>\n              <Route exact path=\"/films\">\n                  <FilmList films={this.state.films}/>\n              </Route>\n              <Route exact path=\"/films/detail/:id\">\n                  <FilmDetail films={this.state.films}\n                              users={this.state.users}/>\n              </Route>\n              <Route exact path=\"/schedules\">\n                  <ScheduleList schedules={this.state.schedules}/>\n              </Route>\n              <Route exact path=\"/login\">\n                  <LoginForm\n                      login={(username, password) => this.login(username, password)}/>\n              </Route>\n              <Route exact path=\"/register\">\n                  <RegisterForm\n                        register={(username, password1, password2, email) =>\n                            this.register(username, password1, password2, email)}/>\n              </Route>\n          </Router>\n          <Footer />\n        </div>\n\n    )\n  }\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}